<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" integrity="sha512-uto9mlQzrs59VwILcLiRYeLKPPbS/bT71da/OEBYEwcdNUk8jYIy+D176RYoop1Da+f9mvkYrmj5MCLZWEtQuA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<link rel="stylesheet" href="../libs/jqueryui/1.12.1/jquery-ui.min.css"/>
		<link rel="stylesheet" href="../libs/bootstrap/4.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="../libs/scrolling-nav/css/scrolling-nav.css">
		<link rel="stylesheet" href="../custom.css">
	</head>
	<body>
		<!-- Modal -->
		<div class="modal fade" id="settings" tabindex="-1" role="dialog" aria-labelledby="settings-label" aria-hidden="true">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title" id="settings-label">Réglages</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
		      	<form>
		        <div class="form-group row">
		       				<label for="servings" class="col-sm-2 col-form-label">Portions</label>
		       				<div class="col-sm-10">
			            	<input id="servings" type="number" class="form-control input-sm"/>
			            </div>
			    </div>
			    <div class="form-check">
		  			<input class="form-check-input" type="checkbox" value="" id="main-ingredients">
		  			<label class="form-check-label" for="main-ingredients">
		    			Montrer seulement les ingrédients principaux (sans plats cuisinés)
		  			</label>
				</div>
				</form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
		        <button type="button" class="btn btn-primary" id="save-settings"  data-dismiss="modal">Enregistrer</button>
		      </div>
		    </div>
		  </div>
		</div>
				
		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top" id="mainNav">
			<div class="container">
				<a class="navbar-brand js-scroll-trigger" href="#page-top">myCookPrint</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav ml-auto">
						<li class="nav-item">
							<a class="nav-link js-scroll-trigger" href="#calculator">Calculateur</a>
						</li>
						<li class="nav-item">
							<!-- Button trigger modal -->
									<a href ="#" class="nav-link"  data-toggle="modal" data-target="#settings" aria-haspopup="true" aria-expanded="false">
							  		Réglages
									</a>
						</li>
						<li class="nav-item">
							<a class="nav-link js-scroll-trigger" href="#about">A propos</a>
						</li>
						<li class="nav-item dropdown">
							  <a href ="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							    Langue</a>
							  <div class="dropdown-menu" id="language">
							  <a class="dropdown-item" name="EN" href="#">English</a>
							  <a class="dropdown-item" name="IT" href="#">Italiano</a>
							  </div>
						</li>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<section id="calculator">
			<div class="container pt-4">
				<h3>Calculateur</h3>
				<form id="recipeform">
					<div class="ingredients">
						<div class="row">
							</div>
						</div>
						<div>
							<div class="form-group row">
								<div class="col-sm">
									<button type='button' class="btn btn-secondary" onclick="submitForm()">Mise en place</button>
								</div>
							</div>
						</div>
						<div class="cooking-steps pt-4">
							<h3></h3>
							<div class="row">
							</div>
						</div>
						<div>
							<div class="form-group row">
								<div class="col-sm-1">
									<button type='button' class="btn btn-secondary" style="width: 120px;" onclick="submitForm()">Cuisson</button>
								</div>
							</div>
						</div>
					</form>
					<div id="results" style="display: none;" class="row pt-4">
						<h3>Résultats</h3>
						<table class="table table-striped">
							<thead><tr><td><h5>Ecologie</h5></td>
							<td class="text-center"><td class="text-center"><a style="text-decoration: none; color: inherit;" data-toggle="tooltip" title='Voiture motorisation moyenne, 2018 | Base Carbone® ADEME v23.4 (27970)' class="text-center">Distance équivalente en voiture</a>
							<td class="text-center">Aliment de référence</td></tr></thead>
							<tbody id="table-footprint">
							</tbody>
							<thead><tr>
							<td><h5>Nutrition</h5></td>
							<td></td>
							<td class="text-center">Apports nutrionnels conseillés</td>
							<td class="text-center"></a></td>
						</tr></thead>
						<tbody id="table-nutritional">
						</tbody>
					</table>
					<div class="col-sm-7 pt-4">
						<h5><a id="reference-food"></a>Aliment de référence</h5>
					</div>
					<form id="reference-form">
						<div class="row">
							<div class="col-sm-7 form-group">
								<div class="input-group">
									<input id="reference" class="form-control input-sm" placeholder="Ingredient" type="text" value="Hamburger, from fast foods restaurant">
								</div>
							</div>
							<div class="col-sm-3 form-group">
								<div class="input-group">
									<input id="reference-weight" class="form-control input-sm" placeholder="Weight" type="text"value="220">
									<div class="input-group-append">
										<span class="input-group-text"> g </span>
									</div>
								</div>
								<div class="col-sm-1">
								</form>
							</div>
						</div>
					</div>
				</div>
			</section>
			<section id="about" class="bg-light">
				<div class="container">
					<div class="row pl-3 pr-3">
						<h3>A propos</h3>
						<p class="lead">
							Le secteur de l'alimentation est responsable d'un quart des emissions des gaz à éffet serre (GES) à l'échelle mondiale<sup><a href="#ref1">1</a></sup>.<br>Grâce au calculateur myCookPrint, on peut estimer l'empreinte carbone d'un répas, y compris la production, la transformation, le transport des aliments jusqu'à la préparation des mets.
					</p>
					<p>
						Le calculateur myCookPrint utilise des bases de données distribuées par le governemment français en open data (Licence Ouverte) :
					</p>
					<ul>
						<li><a href="https://doc.agribalyse.fr/documentation-en/">AGRIBALYSE®</a> (v. 3.2, 04.12.2024)
							produite par l'Agence de la Transition Ecologique française (ADEME)
							fournit l'analyse environnementale des aliments les plus comumuns ;</li>
						<li><a href="https://ciqual.anses.fr/">CIQUAL</a> (v. 03.07.2020)
							et <a href="https://ciqual.anses.fr/">CALNUT 2020</a> (v. 28.08.2020) 
							produites par l'Agence nationale (française) de sécurité sanitaire de l'alimentation, 
							de l'environnement et du travail (ANSES) fournissent les informations sur la composition des aliments.</li>
					</ul>
					<p class="lead">Les résultats sont valides pour des produits achetés et consommés en France.
						Cependant, ils peuvent être utilisés comme un premier indicateur dans d'autres pays européens. 
					</p>
					<p>Le calculateur utilise aussi les facteurs d'emissions des sources énergétiques
						issus des base de données suivantes :
						<ul>
							<li><a href="https://portal.electricitymaps.com/datasets">Electricity Maps</a>
								(27.01.2025, moyenne des valeurs annuelles 2022-2024) ;</li>
							<li><a href="https://www.data.gouv.fr/fr/datasets/base-carbone-r-2/">Base carbone®</a>
								de l'Agence (française) de la transition écologique (ADEME) (v. 23.4, 02-01-2025).</li>
						</ul>
					</p>
					<p>Le code source ainsi que les pipelines de traitement des données
						sont disponibles dans <a href="https://github.com/gperonato/low-carbon-cooking">le repository Github</a> du projet.</p>
					<small><sup>1</sup><a id="ref1"></a>Poore, J., & Nemecek, T. (2018). Reducing food’s environmental impacts through producers and consumers. Science, 360(6392), 987–992. <a href="https://doi.org/10.1126/science.aaq0216">https://doi.org/10.1126/science.aaq0216</a></small>
				</div>
			</div>
		</section>
	</body>
	<script type="text/javascript">
	var language = "FR";
	$(function () {
		$('[data-toggle="tooltip"]').tooltip()
		})
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha512-5WvZa4N7Jq3TVNCp4rjcBMlc6pT3lZ7gVxjtI6IkKW+uItSa+rFgtFljvZnCxQGj8SUX5DHraKE6Mn/4smK1Cg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.5.3/js/bootstrap.min.js" integrity="sha512-8qmis31OQi6hIRgvkht0s6mCOittjMa9GMqtK9hes5iEQBQE/Ca6yGE5FsW36vyipGoWQswBj/QBm2JR086Rkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.0.2/papaparse.min.js" integrity="sha512-z2MPSoqfIIvG4xSBF385/Vlsj3z4k1KbRkAFi2Mb5JE3LhUbY+rgX6PLnKJIsdnuYplZf7HVpdy8yg0YCbC+8w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script type="module" src="../app.js"></script>
	<script type="text/javascript" src="../libs/scrolling-nav/js/scrolling-nav.js"></script>
</html>